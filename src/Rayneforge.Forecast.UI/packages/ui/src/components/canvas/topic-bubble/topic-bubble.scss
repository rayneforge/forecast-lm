@use "@rayneforge/styles" as *;

.rf-topic-bubble {
    position: absolute;
    background: $color-topic-bubble;
    border: 1px solid $color-border-accent;
    border-radius: $radius-full;
    padding: $spacing-2 $spacing-4;
    cursor: grab;
    user-select: none;
    touch-action: none;
    white-space: nowrap;
    font-size: $font-size-meta;
    font-weight: 600;
    color: $color-accent-primary;
    letter-spacing: 0.3px;
    transition: all $motion-normal $ease-standard;

    &--selected {
        background: $color-accent-soft;
        box-shadow: $elevation-float;
    }

    &--dragging {
        cursor: grabbing;
        box-shadow: $elevation-node-drag;
        transition: none;
        z-index: 9999 !important;
    }

    // Subtle pulse ring
    &::after {
        content: '';
        position: absolute;
        inset: -4px;
        border-radius: inherit;
        border: 1px solid $color-accent-primary;
        opacity: 0;
        animation: rf-topic-pulse 3s ease-in-out infinite;
        pointer-events: none;
    }

    &:hover::after {
        animation-play-state: paused;
        opacity: 0.5;
    }
}

@keyframes rf-topic-pulse {
    0%, 100% { opacity: 0; transform: scale(1); }
    50%      { opacity: 0.3; transform: scale(1.06); }
}
